<ng-template #lightboxTemplate let-data="data">
  <span class="lightbox-template">{{ data?.alt }}</span>
</ng-template>

<ng-template #thumbLinksTemplate let-list="list" let-id="id">
  <div class="lightbox-thumbs-container">
    <a class="lightbox-thumb" tabindex="0" *ngFor="let item of list; index as i" [lightbox]="i" [gallery]="id">
      <span class="lightbox-thumb-bg" [ngStyle]="{ 'background-image': 'url(&quot;' + item.data.thumb + '&quot;)' }"></span>
      <img [src]="item.data.thumb" [alt]="item.data.alt" />
      <span class="lightbox-thumb-title">{{ $any(item.data).thumbTitle }}</span>
    </a>
  </div>
</ng-template>

<div class="row row-xl">
  <section class="card card-intro">
    <h2 class="card-title">Design Portfolio</h2>
    <div class="card-content">
      <p>
        This page contains some of the web and other design-related projects I've worked on over the years. There are many more
        proprietary internal projects for companies that I cannot share publicly.
      </p>
      <p>
        Some of my free time is spent working on personal or open source projects, which you can find on the
        <a routerLink="/dev">dev page</a>.
      </p>
    </div>
  </section>
</div>

<section class="card" *ngFor="let proj of projects">
  <h2 class="card-title" appIsSticky>{{ proj.title }}</h2>
  <div class="card-content">
    <div class="row row-xl">
      <div [innerHTML]="proj.description"></div>
      <div>
        <ng-container *ngIf="proj.techStack"> <strong>Tech Stack</strong>: {{ proj.techStack }} </ng-container>

        <ng-container *ngFor="let gallery of proj.galleries">
          <h3 *ngIf="gallery.title" [innerHTML]="gallery.title"></h3>
          <ng-container *ngTemplateOutlet="thumbLinksTemplate; context: { list: gallery.images, id: gallery.id }" />
        </ng-container>
      </div>
    </div>
  </div>
</section>
